all:
  vars:
    ansible_ssh_private_key_file: /home/ubuntu/.ssh/id_ed25519
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'

  children:
    web:
      vars:
        backup_path: /var/www
      hosts:
        server01:
          ansible_host: 192.168.78.178
          ansible_user: ubuntu
        server02:
          ansible_host: 192.168.78.179
          ansible_user: ubuntu

    server:
      hosts:
        server06:
          ansible_host: 192.168.78.176
          ansible_user: ubuntu
        server07:
          ansible_host: 192.168.78.177
          ansible_user: ubuntu
    pdns:
      hosts:
        server03:
          ansible_host: 192.168.78.173
          ansible_user: ubuntu

    sftp:
      hosts:
        server04:
          ansible_host: 192.168.78.174
          ansible_user: ubuntu

    loadbalancer:
      hosts:
        server05:
          ansible_host: 192.168.78.175
          ansible_user: ubuntu

    monitoring:
      hosts:
        server06:
          ansible_host: 192.168.78.176
          ansible_user: ubuntu

    grafana:
      hosts:
        server06:
          ansible_host: 192.168.78.176
          ansible_user: ubuntu
    vars:
      backup_server: 192.168.78.174
      backup_user: ubuntu
      ssh_key: "/home/ubuntu/.ssh/id_rsa"
    backup_targets:
      hosts:
        server01:
          ansible_host: 192.168.78.178
          ansible_user: ubuntu
          backup_source: /var/www
        server02:
          ansible_host: 192.168.78.179
          ansible_user: ubuntu
          backup_source: /var/www
        server03:
          ansible_host: 192.168.78.173
          ansible_user: ubuntu
          backup_source: /etc/powerdns
        server05:
          ansible_host: 192.168.78.175
          ansible_user: ubuntu
          backup_source: /etc/haproxy
        server06:
          ansible_host: 192.168.78.176
          ansible_user: ubuntu
          backup_source: /var/lib/grafana

